#! b2244ac3-4d7b-48d6-aa60-239d7c7ade21
# title: editReinitPrivateStack_destroyVMs_deletePrivateStack
# start_uri: /
# tags: automated
#

- 1ae7b10f-f120-47de-bc67-eae94efbd491

# redirect: false
Click on 'Create a Stack for Your Team' section and then click on 'CREATE A NEW STACK' button 
Do you see 'Select a Provider' title? Do you see 'amazon web services', 'VAGRANT' and other 'Coming Soon' labeled providers? Do you see 'BACK' and 'NEXT' buttons below?

Click on 'amazon web services' and click on 'SKIP GUIDE'
Has that pop-up disappeared? Do you see 'Rainforestqa99's Stack' title? Do you see 'Stack Template', 'Custom Variables', 'Readme' tabs? Do you see 'Credentials' text having a red (!) next to it? Do you see '# Here is your stack preview' in the first line of main content? Do you see 'PREVIEW', 'LOGS', 'DELETE STACK TEMPLATE' buttons on the bottom and 'SAVE' button on top right?

Click on 'Credentials' and then click on 'USE THIS & CONTINUE' button next to 'rainforestqa99's AWS keys' and wait for a second for process to be completed
Have you seen 'Verifying Credentials...' message displayed? Are you switched to 'Stack Template' tab? (If you're not switched and you got 'Failed to verify: operation timed out' error, click on the same button again)

Click on the 'SAVE' button on top right and wait for a few seconds for that process to be completed
Do you see 'Share Your Stack' title on a pop-up displayed? Do you see that 'Share the credentials I used for this stack with my team.' checkbox is already checked? Do you see 'CANCEL' and 'SHARE WITH THE TEAM' buttons?

Click on 'CANCEL' and 'INITIALIZE' buttons respectively and wait for a few seconds for process to be completed
Do you see 'Rainforestqa99's Stack' title? Do you see 'Instructions', 'Credentials' and 'Build Stack' sections? Do you see 'Read Me' text? Do you see 'NEXT' and 'VIEW STACK TEMPLATE' buttons on the bottom? Do you see 'STACKS', 'Rainforestqa99's Stack' and 'example-instance' labels on left sidebar?

Click on the 'NEXT' and 'BUILD STACK' buttons respectively
Do you see 'Fetching and validating credentials...' text in a progress bar? Do you see a green progress bar also below 'example-instance' label on left sidebar?

Wait for a few minutes for process to be completed
Do you see 'Success! Your stack has been built.' text? Do you see 'View The Logs', 'Connect your Local Machine' and 'Invite to Collaborate' sections? Do you see 'START CODING' button on the bottom?

Click on 'STACKS' title from left sidebar
Do you see 'Rainforestqa99's Stack' under 'Private Stacks' section? Do you see that the other sections are empty?

Click on 'My Team' from left vertical menu
Do you see 'Team Settings', 'Permissions' and 'Send Invites' sections?

Enter "rainforestqa22@koding.com" in 'Email' field of the first row of 'Send Invites' section, uncheck the 'Admin' checkbox at the end of the row and then click on 'SEND INVITES' below (like in screencast here: http://recordit.co/2zVr5nwBzH)
Have you seen 'Invitation is sent to rainforestqa22@koding.com' message displayed?

Open a new incognito window by clicking on the 3 dots on the top corner of the browser and selecting 'New Incognito Window' and then go to '{{ random.last_name }}{{ random.number }}.{{site.host}}' by pasting the url (using ctrl-v) in the address bar,then if you see 'Authentication Required' form enter "koding" in the 'User Name:' and "1q2w3e4r" in the 'Password:' fields and click on 'Log In' (if not do nothing and check the items below) 
Do you see 'Sign in to {{ random.last_name }}{{ random.number }}' text, 'Username or Email' and 'Password' fields and a 'SIGN IN' button?

Enter "rainforestqa22" both in the 'Username or Email' and 'Password' fields and click on 'SIGN IN' button
Do you see '{{ random.last_name }}{{ random.number }}' label at the top left corner? Do you see '@rainforestqa22' label below it? Do you see 'STACKS' title and 'Your stacks has not been fully configured yet, ...' text on left sidebar? Do you see 'You are almost there, rainforestqa22!' title on a pop-up displayed in the center of the page? Do you see 'Your Team Stack is Pending' and 'PENDING' texts?

Close that modal by clicking (x) from top right corner and click on 'STACKS' from left sidebar
Do you see that all of the 'Team Stacks', 'Private Stacks' and 'Drafts' sections are empty?

Return to the first browser and click on 'Stacks' item from the left vertical manu under 'Dashboard' and click on 'Rainforestqa99's Stack'
Do you see that the stack editor is opened? (you can see ../Stack-Editor/.. above in the address bar) Do you see 'Rainforestqa99's Stack' text and 'Edit Name' link below it? Do you see 'DELETE STACK TEMPLATE' and 'CLICK HERE TO READ STACK SCRIPT DOCS' links on the bottom of the page?

Click on 'DELETE STACK TEMPLATE'
Have you seen 'You currently have a stack generated from this template.' message displayed?

Click on 'Edit Name', delete the text there and enter "Team Stack" and then go to line #12, delete example-instance and type "test-machine" instead (like in this image: http://take.ms/oxOXl) and then click on 'SAVE' button from top right and wait for a few seconds for process to be completed
Have 'RE-INITIALIZE' and 'MAKE TEAM DEFAULT' buttons appeared next to 'SAVE' button? Do you see 'STACK UPDATED' pop-up appeared next to (1) notification on left sidebar? Do you see 'Team Stack' text on sidebar?

Click on 'UPDATE MY MACHINES' and then 'PROCEED' buttons respectively and wait for a few seconds for process to be completed
Do you see 'Team Stack' title on the modal in the center of the page? Do you see 'STACKS', 'Team Stack' and 'test-machine' labels on left sidebar?

Click on 'Team Stack' from left sidebar and select 'Destroy VMs' and then click on 'PROCEED' button on the 'Destroy Stack' titled pop-up and wait for a few seconds for process to be completed
Is 'test-machine' label under 'Team Stack' removed from left sidebar? Do you see 'Create a stack for your team' text and 'CREATE A TEAM STACK' button in the center of the page?

Click on 'STACKS' title from left sidebar
Do you see 'Team Stack' under 'Drafts' section? Do you see that the other sections are empty?

Switch to the incognito window and reload the page
Do you see that all of the 'Team Stacks', 'Private Stacks' and 'Drafts' sections are still empty?

Return to the first browser and click on 'Team Stack'
Do you see that the stack editor is opened? (you can see ../Stack-Editor/.. above in the address bar) Do you see 'DELETE STACK TEMPLATE' and 'CLICK HERE TO READ STACK SCRIPT DOCS' links on the bottom of the page?

Click on 'DELETE STACK TEMPLATE' and 'YES' buttons respectively
Is 'Team Stack' removed from left sidebar? Do you see 'Your stacks has not been fully configured yet,' text under 'STACKS' title?

Click on 'STACKS' title from left sidebar
Do you see that all of the 'Team Stacks', 'Private Stacks' and 'Drafts' sections are empty?

